graph TD
    User([User]) <-->|HTTPS / Websocket| FE["User Frontend<br/>(Student/Teacher Portal)"]
    
    subgraph "Server-Side Infrastructure (Backend)"
        FE <-->|JSON REST API| API["API Controller<br/>(Auth & Routing)"]
        API <-->|Internal Call| AI["AI Agent / NLP Engine<br/>(Intent & Drafting)"]
        API <-->|Read/Write| DB[("MongoDB Database")]
        
        AI <-->|Logic Flow| Logic{"Decision Logic"}
        Logic -->|Routing| Email["Notification Service"]
        Logic -->|Drafting| Gen["Content Generator"]
    end

    subgraph "Public Output"
        DB -->|Fetch Public Data| Wall["Transparency Wall<br/>(Public Dashboard)"]
    end

    %% Black and White Styling for Patent
    classDef default fill:#ffffff,stroke:#000000,stroke-width:2px,color:#000000;
    classDef bw fill:#ffffff,stroke:#000000,stroke-width:2px,color:#000000;
    
    class User,FE,API,AI,DB,Logic,Email,Gen,Wall bw;
